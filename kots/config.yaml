apiVersion: kots.io/v1beta1
kind: Config
metadata:
  name: replicated-validation
spec:
  groups:
    - name: database
      title: Database
      description: Database Options
      items:
        - name: postgres_type
          type: select_one
          title: Mysql
          default: embedded_mysql
          items:
            - name: embedded_mysql
              title: Embedded Mysql
            - name: external_mysql
              title: External Mysql
        - name: embedded_mysql_password
          hidden: true
          type: password
          value: "{{repl RandomString 32}}"
        - name: external_mysql_uri
          title: Mysql URI
          when: '{{repl ConfigOptionEquals "postgres_type" "external_postgres"}}'
          type: password
          default: db.mycompany.internal
